<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"="width=device-width, initial-scale=1.0">
    <title>MonuMe Tracker - Dashboard</title>
    <!-- Authentication Check -->
    <script>
        // Immediate authentication check - runs before page loads
        (function() {
            const username = localStorage.getItem("username");
            const isLoggedIn = localStorage.getItem("isLoggedIn");
            
            if (!username || !isLoggedIn) {
                console.log("Authentication failed, redirecting to login page");
                window.location.href = "../index.html";
            }
        })();
    </script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }

        :root {
            --main-color: #ff9562;
            --gradient-start: #ff7f42;
            --gradient-end: #ff9562;
            --sidebar-bg: #272430; /* Updated to match sidebar.html */
            --card-bg: rgba(255, 255, 255, 0.85);
            --card-hover-bg: rgba(255, 255, 255, 0.95);
            --text-primary: #333;
            --text-secondary: #666;
            --text-light: #f8f9fa;
            --shadow-sm: 0 4px 12px rgba(0, 0, 0, 0.08);
            --shadow-md: 0 10px 25px rgba(0, 0, 0, 0.12);
            --shadow-lg: 0 15px 35px rgba(0, 0, 0, 0.15);
            --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            --border-radius: 16px;
        }

        body {
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 2000 1500"><rect fill="%23ff9562" width="2000" height="1500"/><defs><radialGradient id="a" gradientUnits="objectBoundingBox"><stop offset="0" stop-color="%23ffffff"/><stop offset="1" stop-color="%23ff9562"/></radialGradient><linearGradient id="b" gradientUnits="userSpaceOnUse" x1="0" y1="750" x2="1550" y2="750"><stop offset="0" stop-color="%23ffcab1"/><stop offset="1" stop-color="%23ff9562"/></linearGradient></defs><path fill="url(%23a)" d="M1549.2 51.6c-5.4 99.1-20.2 197.6-44.2 293.6-24.1 96-57.4 189.4-99.3 278.6-41.9 89.2-92.4 174.1-150.3 253.3-58 79.2-123.4 152.6-195.1 219-71.7 66.4-149.6 125.8-232.2 177.2-82.7 51.4-170.1 94.7-260.7 129.1-90.6 34.4-184.4 60-279.5 76.3C192.6 1495 96.1 1502 0 1500v-400.7c96.1-2.1 191.8-13.3 285.4-33.6 93.6-20.2 185-49.5 272.5-87.2 87.6-37.7 171.3-83.8 249.6-137.3 78.4-53.5 151.5-114.5 217.9-181.7 66.5-67.2 126.4-140.7 178.6-218.9 52.3-78.3 96.9-161.4 133-247.9 36.1-86.5 63.8-176.2 82.6-267.6 18.8-91.4 28.6-184.4 29.6-277.4H1500c0.9 92.9 10.7 185.8 29.2 277.2z"/><path d="M1549.2 51.6c-5.4 99.1-20.2 197.6-44.2 293.6-24.1 96-57.4 189.4-99.3 278.6-41.9 89.2-92.4 174.1-150.3 253.3-58 79.2-123.4 152.6-195.1 219-71.7 66.4-149.6 125.8-232.2 177.2-82.7 51.4-170.1 94.7-260.7 129.1-90.6 34.4-184.4 60-279.5 76.3C192.6 1495 96.1 1502 0 1500v-400.7c96.1-2.1 191.8-13.3 285.4-33.6 93.6-20.2 185-49.5 272.5-87.2 87.6-37.7 171.3-83.8 249.6-137.3 78.4-53.5 151.5-114.5 217.9-181.7 66.5-67.2 126.4-140.7 178.6-218.9 52.3-78.3 96.9-161.4 133-247.9 36.1-86.5 63.8-176.2 82.6-267.6 18.8-91.4 28.6-184.4 29.6-277.4H1500c0.9 92.9 10.7 185.8 29.2 277.2z" fill="url(%23b)"/></svg>') no-repeat center center fixed;
            background-size: cover;
            color: var(--text-primary);
            display: flex;
            min-height: 100vh;
            overflow-x: hidden;
            margin: 0;
            padding: 0;
        }

        /* Sidebar styles with enhanced design from sidebar.html */
        .sidebar {
            width: 280px;
            background: #272430; /* Direct hexcode to ensure it's applied */
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            min-height: 100vh;
            position: fixed;
            left: 0;
            top: 0;
            transition: var(--transition);
            z-index: 100;
            box-shadow: var(--shadow-md);
            border-right: 1px solid rgba(255, 255, 255, 0.05);
        }

        .sidebar-header {
            padding: 35px 25px 15px;
            border-bottom: none;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 30px;
            background: transparent;
            box-shadow: none;
            position: relative;
        }

        /* Add a subtle gradient overlay to the header */
        .sidebar-header:after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 15%;
            width: 70%;
            height: 1px;
            background: linear-gradient(to right, transparent, rgba(255, 255, 255, 0.1), transparent);
        }

        .sidebar-brand {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
        }

        .sidebar-brand a {
            text-decoration: none;
            border-bottom: none;
            box-shadow: none;
            outline: none;
        }

        .app-title {
            color: var(--main-color);
            font-size: 42px; /* Slightly bigger */
            font-weight: 800;
            font-family: 'Poppins', 'Segoe UI', sans-serif;
            text-shadow: none; /* Removed the white glow effect */
            letter-spacing: 1px;
            margin: 0;
            transition: transform 0.3s ease;
            text-align: center;
            background: linear-gradient(135deg, var(--main-color), var(--gradient-start));
            background-clip: text;
            -webkit-background-clip: text;
            color: transparent;
            border: none;
            padding: 5px 10px;
            border-radius: 18px;
        }
        
        .app-title:hover {
            transform: scale(1.05);
            text-shadow: none; /* Removed the white glow effect on hover */
        }

        .sidebar-menu {
            list-style: none;
            padding: 0 15px;
            margin-top: 30px;
        }

        .sidebar-menu li {
            margin-bottom: 10px; /* Slightly more spacing */
            border-radius: 12px;
            overflow: hidden;
            transition: var(--transition);
        }

        .sidebar-menu li a {
            display: flex;
            align-items: center;
            padding: 16px 20px; /* Slightly taller */
            color: rgba(255, 255, 255, 0.8); /* Brighter text */
            text-decoration: none;
            font-size: 16px;
            border-radius: 12px;
            font-weight: 500;
            transition: var(--transition);
            position: relative;
            z-index: 1;
        }

        .sidebar-menu li a i {
            min-width: 24px;
            margin-right: 15px;
            font-size: 18px;
            transition: transform 0.3s ease; /* Animate the icon */
        }

        .sidebar-menu li a::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 0;
            height: 100%;
            background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
            opacity: 0.8;
            z-index: -1;
            transition: width 0.3s ease;
            border-radius: 12px;
        }

        /* Enhanced hover and active states */
        .sidebar-menu li:hover a::before,
        .sidebar-menu li.active a::before {
            width: 100%;
        }

        .sidebar-menu li:hover a,
        .sidebar-menu li.active a {
            color: white;
            transform: translateX(5px);
        }
        
        .sidebar-menu li:hover a i,
        .sidebar-menu li.active a i {
            transform: scale(1.2); /* Scale up icon on hover */
        }

        /* Add subtle indicators for menu items */
        .sidebar-menu li:not(.active)::after {
            content: none; /* Changed from '' to none to completely remove the dot */
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            width: 5px;
            height: 5px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .sidebar-menu li:not(.active):hover::after {
            opacity: 0; /* Changed from 1 to 0 to hide the dot */
        }

        /* Main content styles */
        .main-content {
            margin-left: 280px;
            width: calc(100% - 280px);
            padding: 40px;
            transition: var(--transition);
        }

        .welcome-container {
            background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
            color: white;
            border-radius: 24px;
            box-shadow: 0 8px 30px rgba(255, 127, 66, 0.25);
            padding: 40px 32px;
            margin-bottom: 48px;
            text-align: center;
            position: relative;
            overflow: hidden;
            border: 2px solid rgba(255, 255, 255, 0.3);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .welcome-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0) 100%);
            z-index: 0;
        }

        .welcome-container h1 {
            font-size: 2.8rem;
            font-weight: 800;
            margin-bottom: 12px;
            color: white;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            position: relative;
            z-index: 1;
        }

        .welcome-container p {
            font-size: 1.25rem;
            color: rgba(255, 255, 255, 0.9);
            margin: 0 auto;
            max-width: 520px;
            position: relative;
            z-index: 1;
            font-weight: 500;
        }

        .welcome-container:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 36px rgba(255, 127, 66, 0.35);
        }

        /* Stats cards with improved glassmorphism */
        .stats-card {
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.2), transparent);
            z-index: -1;
            opacity: 0;
            transition: opacity 0.4s ease;
        }

        .welcome-container:hover::before {
            opacity: 1;
        }

        .welcome-container h1 {
            font-size: 36px;
            font-weight: 700;
            margin-bottom: 10px;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .welcome-container p {
            opacity: 0.9;
            font-size: 18px;
            max-width: 600px;
        }

        /* Stats cards with improved glassmorphism */
        .dashboard-stats {
            display: grid;
            grid-template-columns: repeat(5, 1fr); /* Five cards in one row */
            gap: 20px;
            margin-bottom: 30px;
        }

        /* Redesigned stat cards with glassmorphism effect */
        .stat-card {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.2);
            position: relative;
            overflow: hidden;
        }

        .stat-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
            background: rgba(255, 255, 255, 0.25);
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
            z-index: -1;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .stat-card:hover::before {
            opacity: 1;
        }

        .stat-card-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .stat-card-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            margin-right: 15px;
            background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
            color: white;
            box-shadow: 0 5px 15px rgba(255, 127, 66, 0.3);
            transition: all 0.3s ease;
        }

        .stat-card:hover .stat-card-icon {
            transform: scale(1.1) rotate(10deg);
            box-shadow: 0 8px 20px rgba(255, 127, 66, 0.5);
        }

        .team-monume-title {
            font-size: 20px;
            color: white; /* Title in white */
            font-weight: 700;
            position: relative;
            padding-bottom: 8px;
            margin-bottom: 0;
        }
        
        .team-monume-title::after {
            content: '';
            position: absolute;
            left: 0;
            bottom: 0;
            width: 40px;
            height: 3px;
            background: linear-gradient(90deg, var(--gradient-start), var(--gradient-end));
            border-radius: 3px;
            transition: width 0.3s ease;
        }
        
        .stat-card:hover .team-monume-title::after {
            width: 70px;
        }

        .stat-card-value {
            font-size: 36px;
            font-weight: 800;
            margin: 15px 0 10px;
            color: #272430;
            transition: all 0.3s ease;
        }

        .stat-card:hover .stat-card-value {
            transform: scale(1.05);
            color: var(--main-color);
        }

        .stat-card-description {
            font-size: 15px;
            color: white; /* Description in white */
            margin-bottom: 20px;
            font-weight: 500;
            opacity: 0.8;
        }

        /* Enhanced action buttons */
        .stat-card-actions {
            display: flex;
            gap: 12px;
            margin-top: 25px;
            position: relative;
        }

        .stat-card-actions .action-button {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 14px 0;
            border: none;
            font-weight: 600;
            font-size: 15px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            overflow: hidden;
            z-index: 1;
            background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
            color: white;
            border-radius: 30px;
            box-shadow: 0 5px 15px rgba(255, 127, 66, 0.2);
            letter-spacing: 0.5px;
            text-transform: uppercase;
        }

        .stat-card-actions .action-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--gradient-end), var(--gradient-start));
            z-index: -1;
            opacity: 0;
            transition: opacity 0.4s ease;
        }

        .stat-card-actions .action-button i {
            margin-right: 8px;
            font-size: 18px;
            transition: transform 0.3s ease;
        }

        .stat-card-actions .action-button:hover {
            transform: translateY(-7px);
            box-shadow: 0 10px 20px rgba(255, 127, 66, 0.4);
        }

        .stat-card-actions .action-button:hover::before {
            opacity: 1;
        }

        .stat-card-actions .action-button:active {
            transform: translateY(-3px);
        }

        .stat-card-actions .action-button:hover i {
            transform: scale(1.2) rotate(5deg);
        }

        /* Dashboard sections */
        .dashboard-sections {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 25px;
            margin-bottom: 30px;
        }

        /* Dashboard cards */
        .dashboard-card {
            background: var(--card-bg);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: var(--border-radius);
            padding: 30px;
            box-shadow: var(--shadow-sm);
            border: 1px solid rgba(255, 255, 255, 0.2);
            position: relative;
            overflow: hidden;
            transition: var(--transition);
        }

        .dashboard-card:hover {
            box-shadow: var(--shadow-md);
            background: var(--card-hover-bg);
        }

        .dashboard-card h3 {
            margin-bottom: 20px;
            color: var(--text-primary);
            font-size: 20px;
            font-weight: 600;
        }

        .chart-container {
            height: 300px;
            width: 100%;
            background: rgba(255, 255, 255, 0.5);
            border-radius: 12px;
            overflow: hidden;
            position: relative;
        }

        /* Quick actions */
        .quick-actions {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(130px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .action-button {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px 15px;
            background: rgba(255, 255, 255, 0.5);
            border-radius: 12px;
            text-decoration: none;
            color: var (--text-primary);
            transition: var (--transition);
            border: 1px solid rgba(255, 255, 255, 0.2);
            position: relative;
            overflow: hidden;
        }

        .action-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 0;
            background: linear-gradient(to bottom, rgba(255, 149, 98, 0.2), transparent);
            transition: height 0.3s ease;
        }

        .action-button:hover {
            transform: translateY(-8px);
            background: rgba(255, 255, 255, 0.8);
        }

        .action-button:hover::before {
            height: 100%;
        }

        .action-button i {
            font-size: 26px;
            margin-bottom: 10px;
            color: var(--main-color);
            transition: var (--transition);
        }

        .action-button:hover i {
            transform: scale(1.2);
        }

        .action-button span {
            font-size: 14px;
            text-align: center;
            font-weight: 500;
        }

        /* Recent items */
        .recent-items {
            list-style: none;
        }

        .recent-item {
            display: flex;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            transition: var (--transition);
        }

        .recent-item:last-child {
            border-bottom: none;
        }

        .recent-item:hover {
            transform: translateX(5px);
        }

        .recent-item-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            color: white;
            font-size: 18px;
        }

        .recent-item-details h4 {
            font-size: 16px;
            margin-bottom: 5px;
            color: var(--text-primary);
            font-weight: 600;
        }

        .recent-item-details p {
            font-size: 14px;
            color: var (--text-secondary);
        }

        /* Modal Styles */
        .login-modal, .verification-modal {
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }

        .login-modal {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 35px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-lg);
            z-index: 1001;
            width: 380px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .login-modal h2 {
            margin-top: 0;
            color: var(--main-color);
            font-weight: 700;
            margin-bottom: 20px;
            font-size: 24px;
        }

        .login-modal .input-field {
            width: 100%;
            padding: 12px 15px;
            margin: 12px 0;
            border: 1px solid #ddd;
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.3s;
        }

        .login-modal .input-field:focus {
            outline: none;
            border-color: var(--main-color);
            box-shadow: 0 0 0 3px rgba(255, 149, 98, 0.2);
        }

        .login-modal .login-btn {
            background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
            color: white;
            padding: 14px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            width: 100%;
            margin-top: 15px;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s;
        }

        .login-modal .login-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 127, 66, 0.4);
        }

        .login-modal .error {
            color: #ff3333;
            font-size: 14px;
            margin-top: 10px;
        }

        /* Password Verification Modal Styles */
        .verification-modal {
            display: none;
            position: fixed;
            z-index: 1001;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            justify-content: center;
            align-items: center;
        }
        
        .verification-modal-content {
            background-color: white;
            padding: 35px;
            border-radius: var(--border-radius);
            box-shadow: var (--shadow-lg);
            width: 380px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.2);
            animation: modalFadeIn 0.3s;
        }

        @keyframes modalFadeIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .verification-modal-content h3 {
            margin-top: 0;
            color: var(--main-color);
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 15px;
        }
        
        .verification-modal-content p {
            margin-bottom: 20px;
            color: var(--text-secondary);
        }
        
        .verification-modal-content input {
            width: 100%;
            padding: 12px 15px;
            margin: 15px 0;
            border: 1px solid #ddd;
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.3s;
        }
        
        .verification-modal-content input:focus {
            outline: none;
            border-color: var(--main-color);
            box-shadow: 0 0 0 3px rgba(255, 149, 98, 0.2);
        }
        
        .verification-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        
        .verification-buttons button {
            padding: 12px 20px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 15px;
            font-weight: 600;
            transition: all 0.3s;
        }
        
        .verification-buttons button:first-child {
            background-color: #f0f0f0;
            color: var(--text-secondary);
        }
        
        .verification-buttons button:first-child:hover {
            background-color: #e0e0e0;
        }
        
        .verification-buttons button:last-child {
            background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
            color: white;
        }
        
        .verification-buttons button:last-child:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 127, 66, 0.4);
        }

        /* Particle background effect */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
            pointer-events: none;
        }

        .particle {
            position: absolute;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            animation: float 20s infinite linear;
        }

        @keyframes float {
            0% { transform: translateY(0) rotate(0deg); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateY(-100vh) rotate(360deg); opacity: 0; }
        }

        /* Responsive styles */
        @media screen and (max-width: 1200px) {
            .sidebar {
                width: 240px;
            }
            .main-content {
                margin-left: 240px;
                width: calc(100% - 240px);
            }
            .dashboard-sections {
                grid-template-columns: 1.5fr 1fr;
            }
        }

        @media screen and (max-width: 992px) {
            .sidebar {
                width: 80px;
                overflow: hidden;
            }
            
            .sidebar-header h2,
            .sidebar-menu li a span {
                display: none;
            }
            
            .sidebar-menu li a {
                justify-content: center;
                padding: 15px 0;
            }
            
            .sidebar-menu li a i {
                margin-right: 0;
                font-size: 20px;
            }
            
            .main-content {
                margin-left: 80px;
                width: calc(100% - 80px);
                padding: 30px 20px;
            }
            
            .dashboard-sections {
                grid-template-columns: 1fr;
            }
        }

        @media screen and (max-width: 768px) {
            .dashboard-stats {
                grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
            }
            
            .welcome-container {
                padding: 25px;
            }
            
            .welcome-container h1 {
                font-size: 28px;
            }
            
            .stat-card-value {
                font-size: 28px;
            }
        }

        @media screen and (max-width: 576px) {
            .main-content {
                padding: 20px 15px;
            }
            
            .welcome-container h1 {
                font-size: 24px;
            }
            
            .quick-actions {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        /* Notification Banner Styles */
        .notification-banner {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
            color: white;
            padding: 12px 20px;
            text-align: center;
            font-weight: 500;
            z-index: 1000;
            box-shadow: var(--shadow-sm);
            display: none; /* Hidden by default */
            justify-content: space-between;
            align-items: center;
        }
        
        .notification-banner .close-notification {
            background: none;
            border: none;
            color: white;
            font-size: 20px;
            cursor: pointer;
            margin-left: 15px;
        }
        
        /* Adjust main content when notification is visible */
        body.has-notification .sidebar,
        body.has-notification .main-content {
            margin-top: 46px; /* Height of the notification banner */
        }

        /* Logo upload modal */
        .logo-modal {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 35px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-lg);
            z-index: 1001;
            width: 380px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .logo-modal h2 {
            margin-top: 0;
            color: var(--main-color);
            font-weight: 700;
            margin-bottom: 20px;
            font-size: 24px;
            text-align: center;
        }

        .logo-upload-area {
            border: 2px dashed #ddd;
            border-radius: 10px;
            padding: 25px;
            text-align: center;
            margin-bottom: 20px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .logo-upload-area:hover {
            border-color: var(--main-color);
            background: rgba(255, 149, 98, 0.05);
        }

        .logo-upload-area i {
            font-size: 40px;
            color: var(--main-color);
            margin-bottom: 10px;
        }

        .logo-upload-area p {
            color: var(--text-secondary);
        }

        .logo-preview {
            width: 100%;
            height: 100px;
            object-fit: contain;
            margin-bottom: 20px;
            display: none;
        }

        .logo-buttons {
            display: flex;
            justify-content: space-between;
        }

        .logo-btn {
            padding: 12px 20px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 15px;
            font-weight: 600;
            transition: all 0.3s;
            flex-grow: 1;
            margin: 0 5px;
        }

        .cancel-btn {
            background-color: #f0f0f0;
            color: var(--text-secondary);
        }

        .save-btn {
            background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
            color: white;
        }

        .cancel-btn:hover {
            background-color: #e0e0e0;
        }

        .save-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 127, 66, 0.4);
        }

        #file-input {
            display: none;
        }

        /* Chat box styling enhancements */
        .mini-chat-container {
            display: flex;
            flex-direction: column;
            height: 350px;
            background: white;
            border-radius: 12px;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .chat-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 15px;
            background: var(--main-color);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
        }
        
        .chat-title {
            font-size: 14px;
            color: white;
            font-weight: 500;
        }
        
        .users-btn {
            background: white;
            border: none;
            color: var(--main-color);
            padding: 6px 15px;
            border-radius: 20px;
            font-size: 13px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 5px;
            transition: all 0.3s ease;
            box-shadow: 0 2px 10px rgba(255, 255, 255, 0.3);
        }
        
        .users-btn:hover {
            background: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(255, 255, 255, 0.4);
        }
        
        .users-btn i {
            font-size: 11px;
            transition: transform 0.3s ease;
            color: var(--main-color);
        }
        
        .users-btn:hover i {
            transform: rotate(180deg);
        }
        
        .users-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            width: 150px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
            z-index: 100;
            overflow: hidden;
            display: none;
            margin-top: 5px;
            border: 1px solid var(--main-color);
            animation: slideDown 0.25s ease;
        }
        
        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .users-dropdown.show {
            display: block;
        }
        
        .dropdown-user {
            padding: 10px 16px;
            color: var(--main-color);
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
        }
        
        .dropdown-user:before {
            content: '';
            display: inline-block;
            width: 8px;
            height: 8px;
            background: var(--main-color);
            border-radius: 50%;
            margin-right: 10px;
            opacity: 0;
            transform: scale(0);
            transition: all 0.2s ease;
        }
        
        .dropdown-user:hover {
            background: rgba(255, 149, 98, 0.1);
            padding-left: 20px;
        }
        
        .dropdown-user:hover:before {
            opacity: 1;
            transform: scale(1);
        }
        
        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 15px;
            display: flex;
            flex-direction: column;
            gap: 10px;
            scrollbar-width: thin;
            background-color: white;
            scrollbar-color: rgba(255, 255, 255, 0.2) transparent;
        }
        
        .chat-messages::-webkit-scrollbar {
            width: 6px;
        }
        
        .chat-messages::-webkit-scrollbar-track {
            background: transparent;
        }
        
        .chat-messages::-webkit-scrollbar-thumb {
            background-color: rgba(255, 149, 98, 0.2);
            border-radius: 6px;
        }
        
        .chat-message {
            max-width: 85%;
            padding: 10px 14px;
            border-radius: 14px;
            position: relative;
            font-size: 13px;
            line-height: 1.4;
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .chat-message.received {
            align-self: flex-start;
            background: rgba(255, 149, 98, 0.1);
            color: var(--main-color);
            border-bottom-left-radius: 4px;
        }
        
        .chat-message.sent {
            align-self: flex-end;
            background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
            color: white;
            border-bottom-right-radius: 4px;
        }
        
        .message-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
            font-size: 11px;
            opacity: 0.8;
        }
        
        .message-sender {
            font-weight: 600;
            color: var(--main-color);
        }
        
        .message-time {
            opacity: 0.8;
            color: var(--main-color);
        }
        
        .message-content {
            word-break: break-word;
            color: var(--main-color) !important;
            font-weight: 500;
        }
        
        .chat-message.sent .message-content {
            color: white !important;
        }

        /* Chat message header color fixes for sent messages */
        .chat-message.sent .message-header {
            color: white;
            opacity: 0.9;
        }
        
        .chat-message.sent .message-sender,
        .chat-message.sent .message-time {
            color: white !important;
        }
        
        .chat-input-wrapper {
            padding: 10px 15px;
            background: var(--main-color);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .message-input-container {
            display: flex;
            align-items: center;
            background: white;
            border-radius: 20px;
            padding: 2px;
            transition: all 0.3s ease;
        }
        
        .message-input-container:focus-within {
            background: white;
            box-shadow: 0 0 0 2px rgba(255, 149, 98, 0.3);
        }
        
        .message-input {
            flex: 1;
            background: transparent;
            border: none;
            padding: 8px 15px;
            color: var(--main-color);
            font-size: 13px;
            outline: none;
            border-radius: 20px;
        }
        
        .message-input::placeholder {
            color: rgba(255, 149, 98, 0.5);
        }
        
        .send-btn {
            background: var(--main-color);
            color: white;
            border: none;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
            margin-right: 2px;
        }
        
        .send-btn:hover:not(:disabled) {
            background: var(--gradient-start);
            transform: scale(1.1);
        }
        
        .send-btn:disabled {
            background: rgba(255, 149, 98, 0.15);
            cursor: not-allowed;
        }

        /* User Authentication Modal - Enhanced Design */
        .user-auth-modal {
            display: none;
            position: fixed;
            z-index: 1001;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            justify-content: center;
            align-items: center;
        }
        
        .user-auth-modal .modal-content {
            background-color: white;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
            width: 400px;
            text-align: center;
            animation: modalFadeIn 0.4s ease-out;
            border: 1px solid rgba(255, 255, 255, 0.2);
            position: relative;
            overflow: hidden;
        }
        
        .user-auth-modal .modal-content::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 6px;
            background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
        }
        
        .user-auth-modal h3 {
            margin-top: 5px;
            color: var(--main-color);
            font-size: 26px;
            font-weight: 700;
            margin-bottom: 20px;
            position: relative;
            display: inline-block;
        }
        
        .user-auth-modal h3::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 50px;
            height: 3px;
            background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
            border-radius: 3px;
        }
        
        .user-auth-modal p {
            margin-bottom: 25px;
            color: var(--text-secondary);
            font-size: 16px;
            line-height: 1.5;
        }
        
        .user-auth-modal #selected-username {
            color: var(--main-color);
            font-weight: 700;
            font-size: 18px;
        }
        
        .user-auth-modal .auth-input {
            width: 100%;
            padding: 15px 20px;
            margin: 20px 0;
            border: 1px solid #e0e0e0;
            border-radius: 12px;
            font-size: 16px;
            transition: all 0.3s;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05) inset;
            background-color: #f9f9f9;
        }
        
        .user-auth-modal .auth-input:focus {
            outline: none;
            border-color: var(--main-color);
            box-shadow: 0 0 0 3px rgba(255, 149, 98, 0.15);
            background-color: #fff;
        }
        
        .user-auth-modal .auth-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
            gap: 15px;
        }
        
        .user-auth-modal .auth-buttons button {
            padding: 14px 0;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s;
            width: 48%;
            position: relative;
            overflow: hidden;
        }
        
        .user-auth-modal .auth-buttons button::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background-color: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: width 0.5s, height 0.5s;
        }
        
        .user-auth-modal .auth-buttons button:active::before {
            width: 300px;
            height: 300px;
        }
        
        .user-auth-modal .cancel-btn {
            background-color: #f0f0f0;
            color: #777;
        }
        
        .user-auth-modal .cancel-btn:hover {
            background-color: #e0e0e0;
            transform: translateY(-2px);
        }
        
        .user-auth-modal .confirm-btn {
            background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
            color: white;
        }
        
        .user-auth-modal .confirm-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 15px rgba(255, 127, 66, 0.4);
        }
        
        /* Enhanced modal animation */
        @keyframes modalFadeIn {
            from {
                opacity: 0;
                transform: translateY(-30px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        /* Dashboard split container styles */
        .dashboard-split-container {
            display: flex;
            gap: 20px;
        }

        .dashboard-split-section {
            flex: 1;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: var(--border-radius);
            padding: 20px;
            box-shadow: var(--shadow-sm);
            position: relative;
            overflow: hidden;
        }

        .dashboard-split-section.left-section {
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
        }

        .dashboard-split-section.left-section .placeholder-content {
            color: var(--text-secondary);
            font-size: 18px;
        }

        .dashboard-split-section.left-section .placeholder-content i {
            font-size: 48px;
            margin-bottom: 10px;
            color: var(--main-color);
        }

        /* Custom style for Team MonuMe card */
        .active-users-info {
            margin-bottom: 15px;
        }

        .stat-card-actions {
            display: flex;
            gap: 15px;
            margin-top: 40px; /* Increased top margin to push buttons further down */
            position: relative;
            bottom: -10px; /* Additional offset to push buttons further down */
        }

        .stat-card-actions .action-button {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 10px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            background: rgba(255, 149, 98, 0.15);
            color: #ff7f42;
        }

        .stat-card-actions .start-btn {
            background: rgba(76, 175, 80, 0.15);
            color: #4caf50;
        }

        .stat-card-actions .view-btn {
            background: rgba(63, 135, 245, 0.15);
            color: #3f87f5;
        }

        .stat-card-actions .action-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(255, 127, 66, 0.2);
        }

        .stat-card-actions .start-btn:hover {
            background: rgba(255, 158, 94, 0.3);
            box-shadow: 0 5px 15px rgba(255, 158, 94, 0.3);
        }

        .stat-card-actions .view-btn:hover {
            background: rgba(255, 203, 107, 0.3);
            box-shadow: 0 5px 15px rgba(255, 203, 107, 0.3);
        }

        .stat-card-actions .start-btn {
            background: rgba(255, 127, 66, 0.15);
            color: #ff7f42;
        }

        .stat-card-actions .view-btn {
            background: rgba(255, 185, 120, 0.15);
            color: #ffb978;
        }

        .stat-card-actions .action-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(255, 127, 66, 0.2);
        }

        .stat-card-actions .start-btn:hover {
            background: rgba(255, 127, 66, 0.25);
            box-shadow: 0 5px 15px rgba(255, 127, 66, 0.2);
        }

        .stat-card-actions .view-btn:hover {
            background: rgba(255, 185, 120, 0.25);
            box-shadow: 0 5px 15px rgba(255, 185, 120, 0.2);
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideIn {
            from { transform: translateY(-30px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .team-modal-title {
            color: #ff7f42;
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 20px;
            text-align: center;
        }

        .team-modal-close {
            position: absolute;
            top: 15px;
            right: 20px;
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #aaa;
            transition: all 0.2s;
        }

        .team-modal-close:hover {
            color: #ff7f42;
            transform: scale(1.2);
        }

        .user-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 25px;
            max-height: 300px;
            overflow-y: auto;
            padding-right: 5px;
        }

        .user-item {
            background: linear-gradient(135deg, #ff7f42, #ff9562);
            color: white;
            padding: 12px 15px;
            border-radius: 10px;
            text-align: center;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s;
        }

        .user-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(255, 127, 66, 0.3);
        }

        .user-item.active {
            background: linear-gradient(135deg, #4caf50, #2e7d32);
        }

        .active-user-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            border-bottom: 1px solid #eee;
            transition: all 0.2s;
        }

        .active-user-item:last-child {
            border-bottom: none;
        }

        .active-user-name {
            font-weight: 600;
            color: #333;
        }

        .active-user-time {
            font-size: 13px;
            color: #666;
        }

        .active-user-actions {
            display: flex;
            gap: 10px;
        }

        .active-user-action {
            padding: 8px 12px;
            border: none;
            border-radius: 8px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .deactivate-btn {
            background-color: rgba(255, 149, 98, 0.15);
            color: #ff9562;
        }

        .deactivate-btn:hover {
            background-color: rgba(255, 149, 98, 0.25);
            transform: translateY(-2px);
            box-shadow: 0 3px 10px rgba(255, 127, 66, 0.2);
        }

        .team-modal-buttons {
            display: flex;
            justify-content: center;
            margin-top: 20px;
        }

        .team-modal-button {
            padding: 12px 30px;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            background: #f0f0f0;
            color: #666;
        }

        .team-modal-button:hover {
            background-color: #e0e0e0;
            transform: translateY(-2px);
        }

        /* User Selection Modal */
        .user-selection-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background-color: white;
            border-radius: 20px;
            padding: 30px;
            width: 400px;
            max-width: 90%;
            box-shadow: var(--shadow-lg);
            animation: modalFadeIn 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .modal-content h3 {
            margin-top: 0;
            color: var(--main-color);
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 20px;
            text-align: center;
        }

        .modal-content p {
            margin-bottom: 20px;
            color: var(--text-secondary);
            text-align: center;
        }

        .user-list {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 25px;
            max-height: 300px;
            overflow-y: auto;
            padding-right: 5px;
        }

        .user-list::-webkit-scrollbar {
            width: 6px;
        }

        .user-list::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }

        .user-list::-webkit-scrollbar-thumb {
            background: var(--main-color);
            border-radius: 10px;
        }

        .user-item {
            background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
            color: white;
            padding: 12px 15px;
            border-radius: 10px;
            text-align: center;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s ease;
        }

        .user-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(255, 127, 66, 0.3);
        }

        .modal-buttons {
            display: flex;
            justify-content: center;
        }

        .modal-cancel {
            background-color: #f0f0f0;
            color: #666;
            padding: 10px 20px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.2s ease;
        }

        .modal-cancel:hover {
            background-color: #e0e0e0;
            transform: translateY(-2px);
        }

        /* Password Verification Modal - EXACT COPY FROM ActiveUsers.html */
        .password-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1001;
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            justify-content: center;
            align-items: center;
        }

        .password-content {
            background-color: white;
            border-radius: 20px;
            padding: 30px;
            width: 350px;
            box-shadow: var(--shadow-lg);
            text-align: center;
            animation: modalFadeIn 0.3s ease;
        }

        .password-content h3 {
            margin-top: 0;
            color: var(--main-color);
            font-size: 22px;
            font-weight: 700;
            margin-bottom: 15px;
        }

        .password-content p {
            margin-bottom: 20px;
            color: var (--text-secondary);
        }

        .password-content input {
            width: 100%;
            padding: 12px 15px;
            margin: 10px 0 20px;
            border: 1px solid #ddd;
            border-radius: 10px;
            font-size: 16px;
            box-sizing: border-box;
        }

        .password-content input:focus {
            outline: none;
            border-color: var(--main-color);
            box-shadow: 0 0 0 3px rgba(255, 149, 98, 0.2);
        }

        .password-buttons {
            display: flex;
            justify-content: space-between;
            gap: 15px;
        }

        .password-buttons button {
            flex: 1;
            padding: 12px 0;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .password-verify {
            background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
            color: white;
        }

        .password-verify:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 127, 66, 0.3);
        }

        .password-cancel {
            background-color: #f0f0f0;
            color: #666;
        }

        .password-cancel:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 127, 66, 0.2);
        }

        /* Enhanced Team MonuMe card action buttons */
        .stat-card-actions {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .stat-card-actions .action-button {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 14px 15px;
            border: none;
            border-radius: 50px; /* Rounded pill buttons */
            font-weight: 700;
            font-size: 15px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            background: #272430; /* Matching sidebar background */
            color: white;
            position: relative;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(39, 36, 48, 0.3);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .stat-card-actions .action-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 149, 98, 0.3), transparent);
            transition: all 0.6s ease;
        }

        .stat-card-actions .action-button i {
            margin-right: 10px;
            font-size: 16px;
            transition: all 0.3s ease;
            color: var(--main-color); /* Orange icon color */
        }

        .stat-card-actions .action-button:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(39, 36, 48, 0.4);
            border-bottom: 3px solid var(--main-color);
        }
        
        .stat-card-actions .action-button:hover::before {
            left: 100%;
        }
        
        .stat-card-actions .action-button:active {
            transform: translateY(-2px);
            box-shadow: 0 5px 10px rgba(39, 36, 48, 0.4);
        }

        /* Adding subtle orange accent when hovering */
        .stat-card-actions .action-button:hover i {
            transform: scale(1.2);
            color: #ff9562;
        }

        /* Adding orange border bottom indicator on hover */
        .stat-card-actions .action-button:after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            width: 0;
            height: 3px;
            background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
            transition: all 0.3s ease;
            transform: translateX(-50%);
        }

        .stat-card-actions .action-button:hover:after {
            width: 80%;
        }

        /* Active Users Modal */
        .active-users-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            justify-content: center;
            align-items: center;
        }

        .active-users-content {
            background-color: white;
            border-radius: 20px;
            padding: 30px;
            width: 500px;
            max-width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: var(--shadow-lg);
            animation: modalFadeIn 0.3s ease;
        }

        .active-users-content h3 {
            margin-top: 0;
            color: var(--main-color);
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 20px;
            text-align: center;
        }

        .active-user-list {
            margin-bottom: 25px;
        }

        .active-user-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            border-bottom: 1px solid #eee;
            transition: all 0.2s;
        }

        .active-user-item:last-child {
            border-bottom: none;
        }

        .active-user-name {
            font-weight: 600;
            color: #333;
        }

        .active-user-buttons {
            display: flex;
            gap: 10px;
        }

        .unactive-btn, .forceout-btn {
            padding: 8px 12px;
            border: none;
            border-radius: 8px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .unactive-btn {
            background-color: rgba(255, 149, 98, 0.15);
            color: var(--main-color);
        }

        .unactive-btn:hover {
            background-color: rgba(255, 149, 98, 0.25);
            transform: translateY(-2px);
            box-shadow: 0 3px 10px rgba(255, 127, 66, 0.2);
        }

        .forceout-btn {
            background-color: rgba(220, 53, 69, 0.15);
            color: #dc3545;
        }

        .forceout-btn:hover {
            background-color: rgba(220, 53, 69, 0.25);
            transform: translateY(-2px);
            box-shadow: 0 3px 10px rgba(220, 53, 69, 0.2);
        }

        .modal-close {
            text-align: center;
            margin-top: 20px;
        }

        .modal-close-btn {
            background-color: #f0f0f0;
            color: #666;
            padding: 10px 25px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.2s ease;
        }

        .modal-close-btn:hover {
            background-color: #e0e0e0;
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        /* Force Out Modal - updated to only confirm role and password for the user you clicked */
        .forceout-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 2000;
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            justify-content: center;
            align-items: center;
        }

        .forceout-content {
            background-color: white;
            border-radius: 20px;
            padding: 30px;
            width: 400px;
            max-width: 90%;
            box-shadow: var(--shadow-lg);
            animation: modalFadeIn 0.3s ease;
            position: relative;
            border-top: 6px solid #f44336;
        }

        .forceout-content h3 {
            margin-top: 0;
            color: #f44336;
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 15px;
            text-align: center;
        }

        .forceout-content p {
            margin-bottom: 20px;
            color: var(--text-secondary);
            text-align: center;
        }

        .forceout-user-dropdown {
            position: relative;
            margin-bottom: 25px;
        }

        .forceout-user-select {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 10px;
            font-size: 16px;
            appearance: none;
            -webkit-appearance: none;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="%23666" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-down"><polyline points="6 9 12 15 18 9"></polyline></svg>') no-repeat;
            background-position: right 15px center;
            background-color: white;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .forceout-user-select:focus {
            outline: none;
            border-color: #f44336;
            box-shadow: 0 0 0 3px rgba(244, 67, 54, 0.2);
        }

        .forceout-password-field {
            width: 100%;
            padding: 12px 15px;
            margin: 15px 0;
            border: 1px solid #ddd;
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.2s;
            box-sizing: border-box;
        }

        .forceout-password-field:focus {
            outline: none;
            border-color: #f44336;
            box-shadow: 0 0 0 3px rgba(244, 67, 54, 0.2);
        }

        .forceout-buttons {
            display: flex;
            justify-content: space-between;
            gap: 15px;
        }

        .forceout-buttons button {
            flex: 1;
            padding: 12px 0;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .forceout-cancel {
            background-color: #f0f0f0;
            color: #666;
        }

        .forceout-cancel:hover {
            background-color: #e0e0e0;
            transform: translateY(-2px);
        }

        .forceout-confirm {
            background-color: #f44336;
            color: white;
        }

        .forceout-confirm:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(244, 67, 54, 0.3);
        }

        /* Redesigned buttons for 'Start,' 'View,' and 'Active' actions */
        .stat-card-actions .start-btn {
            background: linear-gradient(135deg, #4caf50, #81c784);
            color: white;
            border-radius: 30px;
            padding: 12px 20px;
            font-weight: bold;
            text-transform: uppercase;
            box-shadow: 0 4px 10px rgba(76, 175, 80, 0.3);
            transition: all 0.3s ease;
        }

        .stat-card-actions .start-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 15px rgba(76, 175, 80, 0.5);
        }

        .stat-card-actions .view-btn {
            background: linear-gradient(135deg, #3f87f5, #64b5f6);
            color: white;
            border-radius: 30px;
            padding: 12px 20px;
            font-weight: bold;
            text-transform: uppercase;
            box-shadow: 0 4px 10px rgba(63, 135, 245, 0.3);
            transition: all 0.3s ease;
        }

        .stat-card-actions .view-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 15px rgba(63, 135, 245, 0.5);
        }

        .stat-card-actions .active-btn {
            background: linear-gradient(135deg, #ff7f42, #ff9562);
            color: white;
            border-radius: 30px;
            padding: 12px 20px;
            font-weight: bold;
            text-transform: uppercase;
            box-shadow: 0 4px 10px rgba(255, 127, 66, 0.3);
            transition: all 0.3s ease;
        }

        .stat-card-actions .active-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 15px rgba(255, 127, 66, 0.5);
        }

        /* Special design for Team MonuMe card */
        .team-monume-card {
            background: linear-gradient(135deg, #ff7f42, #ff9562);
            color: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 25px rgba(255, 127, 66, 0.3);
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .team-monume-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(255, 127, 66, 0.5);
        }

        .team-monume-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.2), transparent);
            z-index: -1;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .team-monume-card:hover::before {
            opacity: 1;
        }

        /* Special buttons for Team MonuMe card */
        .team-monume-card .team-actions {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .team-monume-card .team-actions .team-action-button {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 14px 20px;
            border: none;
            border-radius: 30px;
            font-weight: bold;
            font-size: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: white;
            color: #ff7f42;
            box-shadow: 0 4px 10px rgba(255, 127, 66, 0.3);
            text-transform: uppercase;
        }

        .team-monume-card .team-actions .team-action-button:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 15px rgba(255, 127, 66, 0.5);
            background: rgba(255, 255, 255, 0.9);
        }

        .team-monume-card .team-actions .team-action-button:active {
            transform: translateY(-2px);
        }

        /* Unique and stunning design for Active Users card */
        .active-users-card {
            background: linear-gradient(135deg, #6a1b9a, #ab47bc); /* Purple gradient */
            color: white;
            border-radius: 25px;
            padding: 35px;
            box-shadow: 0 15px 30px rgba(106, 27, 154, 0.4); /* Purple shadow */
            position: relative;
            overflow: hidden;
            transition: all 0.4s ease;
        }

        .active-users-card:hover {
            transform: translateY(-12px);
            box-shadow: 0 20px 40px rgba(106, 27, 154, 0.6); /* Enhanced purple shadow on hover */
        }

        .active-users-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.2), transparent);
            z-index: -1;
            opacity: 0;
            transition: opacity 0.4s ease;
        }

        .active-users-card:hover::before {
            opacity: 1;
        }

        .active-users-card-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 25px;
        }

        .active-users-card-header .icon {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            background: rgba(255, 255, 255, 0.2);
            color: white; /* Icon in white */
            box-shadow: 0 5px 15px rgba(255, 255, 255, 0.3);
            transition: all 0.3s ease;
        }

        .active-users-card:hover .active-users-card-header .icon {
            transform: scale(1.2) rotate(15deg);
            box-shadow: 0 6px 15px rgba(171, 71, 188, 0.4); /* Softer purple hover shadow */
        }

        .active-users-card-value {
            font-size: 48px;
            font-weight: 900;
            margin: 20px 0 10px;
            color: white; /* Stat card value in white */
            text-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
        }

        .active-users-card:hover .active-users-card-value {
            transform: scale(1.1);
            color: #d1c4e9; /* Softer purple on hover */
        }

        .active-users-card-description {
            font-size: 18px;
            color: white; /* Stat card description in white */
            margin-bottom: 25px;
            font-weight: 600;
            opacity: 0.9;
        }

        .active-users-card-actions {
            display: flex;
            gap: 20px;
            margin-top: 30px;
        }

        .active-users-card-actions .action-button {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 15px 20px;
            border: none;
            border-radius: 30px;
            font-weight: bold;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: white;
            color: #3f87f5;
            box-shadow: 0 5px 15px rgba(255, 255, 255, 0.3);
            text-transform: uppercase;
        }

        .active-users-card-actions .action-button:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(255, 255, 255, 0.5);
            background: rgba(255, 255, 255, 0.9);
            color: #81c784;
        }

        .active-users-card-actions .action-button:active {
            transform: translateY(-2px);
        }

        /* Adjusted hover effect and smaller icon for Active Users card */
        .active-users-card:hover {
            transform: translateY(-8px); /* Reduced lift on hover */
            box-shadow: 0 15px 30px rgba(63, 135, 245, 0.5); /* Softer shadow */
        }

        .active-users-card-header .icon {
            width: 50px; /* Reduced size */
            height: 50px; /* Reduced size */
            font-size: 24px; /* Smaller font size */
            box-shadow: 0 4px 10px rgba(255, 255, 255, 0.2); /* Softer shadow */
        }

        .active-users-card:hover .active-users-card-header .icon {
            transform: scale(1.1) rotate(10deg); /* Reduced scale and rotation */
            box-shadow: 0 6px 15px rgba(255, 255, 255, 0.4); /* Softer hover shadow */
        }

        /* Updated Active Users card to make the line under the title and stat-card-value white, and simplified hover effect */
        .active-users-card-header .team-monume-title {
            color: white; /* Title in white */
        }

        .active-users-card-header .team-monume-title::after {
            background: white; /* Line under the title in white */
        }

        .active-users-card-value {
            color: white; /* Stat card value in white */
        }

        .active-users-card:hover {
            transform: translateY(-5px); /* Simplified hover effect */
            box-shadow: 0 10px 20px rgba(106, 27, 154, 0.5); /* Softer shadow */
        }

        /* Ensure stat-card-value is white */
        .active-users-card-value {
            color: white !important; /* Force white color for the number */
        }

        /* Ensure stat-card-value inside active-users-info is white */
        .active-users-info .stat-card-value {
            color: white !important; /* Force white color for the number */
        }

        /* Simplified and enhanced hover effect for Active Users card */
        .active-users-card:hover {
            transform: translateY(-6px); /* Subtle lift */
            box-shadow: 0 12px 24px rgba(106, 27, 154, 0.5); /* Softer shadow */
            background: linear-gradient(135deg, #7b1fa2, #ba68c8); /* Slightly brighter purple gradient */
        }

        .active-users-card:hover .active-users-card-header .icon {
            transform: none; /* Ensure the icon does not change on hover */
            box-shadow: none; /* Remove hover shadow effect on the icon */
        }

        /* Duplicate the style and design of the Active Users card to the Appointments card */
        .appointments-card {
            background: linear-gradient(135deg, #6a1b9a, #ab47bc); /* Purple gradient */
            color: white;
            border-radius: 25px;
            padding: 35px;
            box-shadow: 0 15px 30px rgba(106, 27, 154, 0.4); /* Purple shadow */
            position: relative;
            overflow: hidden;
            transition: all 0.4s ease;
        }

        .appointments-card:hover {
            transform: translateY(-12px);
            box-shadow: 0 20px 40px rgba(106, 27, 154, 0.6); /* Enhanced purple shadow on hover */
            background: linear-gradient(135deg, #6a1b9a, #ab47bc); /* Ensure background color remains consistent */
        }

        .appointments-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.2), transparent);
            z-index: -1;
            opacity: 0;
            transition: opacity 0.4s ease;
        }

        .appointments-card:hover::before {
            opacity: 1;
        }

        .appointments-card-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 25px;
        }

        .appointments-card-header .icon {
            width: 50px; /* Reduced size */
            height: 50px; /* Reduced size */
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            background: rgba(255, 255, 255, 0.2);
            color: white; /* Icon in white */
            box-shadow: 0 4px 10px rgba(255, 255, 255, 0.2); /* Softer shadow */
            transition: all 0.3s ease;
        }

        .appointments-card-header .team-monume-title {
            color: white; /* Title in white */
        }

        .appointments-card-header .team-monume-title::after {
            content: '';
            display: block;
            width: 40px;
            height: 3px;
            background: white; /* Line under the title in white */
            margin-top: 5px;
            border-radius: 3px;
        }
        .dashboard-split-section .upcoming-events-box {
            background: linear-gradient(135deg, #6a1b9a, #ab47bc);
            border-radius: 20px;
            padding: 25px;
            height: 100%;
            display: flex;
            flex-direction: column;
            box-shadow: 0 10px 30px rgba(106, 27, 154, 0.4);
            border: 2px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }
        
        .dashboard-split-section .upcoming-events-box:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(106, 27, 154, 0.5);
        }
        
        .upcoming-events-title {
            font-size: 24px;
            font-weight: 700;
            color: white;
            margin-bottom: 20px;
            text-align: center;
            position: relative;
            padding-bottom: 12px;
        }
        
        .upcoming-events-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 3px;
            background: white;
            border-radius: 3px;
        }
        
        .event-item {
            background: rgba(255, 255, 255, 0.15);
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 10px;
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            border-left: 3px solid rgba(255, 255, 255, 0.5);
        }
        
        .event-item:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: translateX(5px);
        }
        
        .event-item.priority-high {
            border-left-color: #ff5252;
        }
        
        .event-item.priority-medium {
            border-left-color: #ffaa00;
        }
        
        .event-item.priority-low {
            border-left-color: #2ecc71;
        }
        
        .event-title {
            font-weight: 700;
            font-size: 16px;
            color: white;
            margin-bottom: 5px;
        }
        
        .event-date {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 5px;
            display: flex;
            align-items: center;
        }
        
        .event-date i {
            margin-right: 5px;
            font-size: 12px;
        }
        
        .event-location {
            font-size: 13px;
            color: rgba(255, 255, 255, 0.7);
            display: flex;
            align-items: center;
        }
        
        .event-location i {
            margin-right: 5px;
            font-size: 12px;
        }
        
        .no-events {
            text-align: center;
            padding: 30px 0;
            color: rgba(255, 255, 255, 0.7);
            font-style: italic;
        }

        /* Newly redesigned upcoming events section */
        .upcoming-events-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
        }
        
        .upcoming-events-controls {
            display: flex;
            gap: 10px;
        }
        
        .event-control-btn {
            width: 38px;
            height: 38px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 16px;
            cursor: pointer;
            transition: background 0.3s ease;
        }
        
        .event-control-btn:hover {
            background: rgba(255, 255, 255, 0.4);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(255, 255, 255, 0.2);
        }
        
        .event-date-indicator {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 10px 15px;
        }
        
        .today-marker {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: white;
            color: #6a1b9a;
            width: 50px;
            height: 50px;
            border-radius: 12px;
            margin-right: 15px;
            font-weight: bold;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }
        
        .today-date {
            font-size: 20px;
            line-height: 1;
        }
        
        .today-month {
            font-size: 12px;
            opacity: 0.8;
        }
        
        .date-line {
            flex: 1;
        }
        
        .date-info {
            color: white;
            font-weight: 600;
            font-size: 15px;
        }
        
        .events-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-bottom: 20px;
            max-height: 350px;
            overflow-y: auto;
            padding-right: 5px;
        }
        
        .events-list::-webkit-scrollbar {
            width: 5px;
        }
        
        .events-list::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
        }
        
        .events-list::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.3);
            border-radius: 5px;
        }
        
        .event-item {
            display: flex;
            border-radius: 12px;
            transition: all 0.3s ease;
            overflow: hidden;
            border-left: none;
            padding: 0;
            margin-bottom: 0;
        }
        
        .event-item:hover {
            transform: translateX(5px);
            background: rgba(255, 255, 255, 0.2);
        }
        
        .event-item.today {
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
            background: rgba(255, 255, 255, 0.15);
            position: relative;
            overflow: hidden;
        }
        
        .event-item.today::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 5px;
            height: 100%;
            background: white;
            opacity: 0.8;
        }
        
        .event-time-block {
            background: rgba(255, 255, 255, 0.15);
            padding: 15px 10px;
            width: 60px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        
        .event-time {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.8);
            font-weight: 600;
        }
        
        .event-day {
            font-size: 20px;
            font-weight: 700;
            color: white;
        }
        
        .event-status {
            font-size: 11px;
            padding: 3px 8px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            margin-top: 5px;
            color: white;
        }
        
        .event-details {
            flex: 1;
            padding: 15px;
        }
        
        .event-title {
            margin: 0 0 5px 0;
            font-size: 16px;
        }
        
        .event-location {
            display: flex;
            align-items: center;
            margin: 5px 0 10px 0;
        }
        
        .event-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 10px;
        }
        
        .event-participants {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.8);
            display: flex;
            align-items: center;
        }
        
        .event-participants i {
            margin-right: 5px;
        }
        
        .event-time-remaining {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.8);
        }
        
        .event-action-btn {
            background: none;
            border: none;
            color: white;
            cursor: pointer;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.3s ease;
        }
        
        .event-action-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }
        
        .events-footer {
            text-align: center;
            margin-top: 15px;
        }
        
        .view-all-events-btn {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            padding: 12px 20px;
            border-radius: 30px;
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        .view-all-events-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .view-all-events-btn i {
            transition: transform 0.3s ease;
        }
        
        .view-all-events-btn:hover i {
            transform: translateX(4px);
        }
        .dashboard-split-section.upcoming-events-full {
    background: #fff;
    box-shadow: 0 8px 30px rgba(255, 127, 66, 0.10);
    border-radius: 24px;
    padding: 40px 32px;
    margin-bottom: 0;
    min-height: 350px;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
}
.dashboard-split-section.upcoming-events-full .upcoming-events-title {
    color: #7c3aed;
}
.dashboard-split-section.upcoming-events-full .event-item {
    background: #f3f0fa;
    color: #333;
}
.dashboard-split-section.upcoming-events-full .event-item.today {
    background: #ede9fe;
}
.dashboard-split-section.upcoming-events-full .event-title {
    color: #7c3aed;
}
.dashboard-split-section.upcoming-events-full .event-date-indicator {
    background: #ede9fe;
}
.dashboard-bottom-row {
  display: flex;
  gap: 24px;
  margin-top: 32px;
  height: 480px;
}
.dashboard-bottom-left {
  flex: 1;
  background: linear-gradient(135deg, #6a1b9a 60%, #ab47bc 100%);
  border-radius: 20px;
  display: flex;
  flex-direction: column;
  min-width: 0;
  box-shadow: 0 8px 30px rgba(106,27,154,0.10);
  padding: 0;
  height: 100%;
}
.events-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 28px 32px 12px 32px;
}
.events-header h3 {
  color: #fff;
  font-size: 22px;
  font-weight: 700;
  margin: 0;
}
.events-controls {
  display: flex;
  gap: 10px;
}
.event-btn {
  background: rgba(255,255,255,0.18);
  border: none;
  color: #fff;
  border-radius: 50%;
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 16px;
  cursor: pointer;
  transition: background 0.2s;
}
.event-btn:hover {
  background: rgba(255,255,255,0.32);
}
.events-list-scroll {
  flex: 1;
  overflow-y: auto;
  padding: 0 32px 0 32px;
  display: flex;
  flex-direction: column;
  gap: 18px;
}
.event-row {
  display: flex;
  align-items: center;
  background: rgba(255,255,255,0.10);
  border-radius: 14px;
  padding: 16px 18px;
  box-shadow: 0 2px 8px rgba(106,27,154,0.06);
  border-left: 5px solid #9c27b0; /* Changed all event rows to have purple border */
  transition: background 0.2s, border-color 0.2s;
}
.event-row.priority-high { border-left-color: #9c27b0; } /* Changed from red to purple */
.event-row.priority-medium { border-left-color: #9c27b0; } /* Changed from yellow to purple */
.event-row.priority-low { border-left-color: #9c27b0; } /* Changed from green to purple */
.event-row.today { background: rgba(255,255,255,0.18); }
.event-date-block {
  width: 54px;
  text-align: center;
  margin-right: 18px;
}
.event-date-main {
  font-size: 24px;
  font-weight: 800;
  color: #fff;
  line-height: 1;
}
.event-date-month {
  font-size: 12px;
  color: #fff;
  opacity: 0.7;
  letter-spacing: 1px;
}
.event-info {
  flex: 1;
  min-width: 0;
}
.event-title {
  font-size: 16px;
  font-weight: 700;
  color: #fff;
  margin-bottom: 4px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.event-meta {
  font-size: 13px;
  color: #e1bee7;
  display: flex;
  align-items: center;
  justify-content: flex-end; /* Adjusted to right-align any remaining content */
  gap: 8px;
  flex-wrap: wrap;
}
.events-footer-row {
  padding: 18px 32px 24px 32px;
  text-align: right;
}
.view-all-btn {
  background: rgba(255,255,255,0.18);
  color: #fff;
  border: none;
  border-radius: 20px;
  padding: 10px 22px;
  font-weight: 600;
  font-size: 15px;
  cursor: pointer;
  transition: background 0.2s;
}
.view-all-btn:hover {
  background: rgba(255,255,255,0.32);
}
.dashboard-bottom-right {
  flex: 1;
  /* Add your Team Chat styles here */
}
@media (max-width: 1100px) {
  .dashboard-bottom-row { flex-direction: column; height: auto; }
  .dashboard-bottom-left, .dashboard-bottom-right { height: 400px; }
}
.team-chat-card {
  background: #fff;
  border-radius: 18px;
  box-shadow: 0 8px 24px rgba(106,27,154,0.10);
  display: flex;
  flex-direction: column;
  height: 100%;
  padding: 0;
  overflow: hidden;
}
.team-chat-header-modern {
  background: linear-gradient(90deg, #ff9562 0%, #ff7f42 100%);
  color: #fff;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 18px 24px;
  font-size: 20px;
  font-weight: 700;
  border-top-left-radius: 18px;
  border-top-right-radius: 18px;
  box-shadow: 0 2px 8px rgba(255,127,66,0.08);
}
.team-chat-header-modern i.fas.fa-comments {
  margin-right: 12px;
  font-size: 22px;
}
.users-btn-modern {
  background: rgba(255,255,255,0.18);
  border: none;
  color: #fff;
  border-radius: 50%;
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 16px;
  cursor: pointer;
  transition: background 0.2s;
}
.users-btn-modern:hover {
  background: rgba(255,255,255,0.32);
}
.team-chat-messages-area {
  flex: 1;
  background: #f8f6fc;
  padding: 18px 24px;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  gap: 12px;
}
.team-chat-message {
  background: #ede9fe;
  color: #6a1b9a;
  padding: 10px 16px;
  border-radius: 14px;
  max-width: 75%;
  font-size: 14px;
  align-self: flex-start;
  box-shadow: 0 2px 8px rgba(106,27,154,0.06);
}
.team-chat-message.sent {
  background: linear-gradient(90deg, #ff9562 0%, #ff7f42 100%);
  color: #fff;
  align-self: flex-end;
}
.team-chat-input-row {
  display: flex;
  align-items: center;
  padding: 16px 24px;
  background: #f3f0fa;
  border-bottom-left-radius: 18px;
  border-bottom-right-radius: 18px;
  gap: 10px;
}
.team-chat-input {
  flex: 1;
  border: none;
  border-radius: 20px;
  padding: 10px 18px;
  font-size: 15px;
  background: #fff;
  color: #6a1b9a;
  box-shadow: 0 2px 8px rgba(106,27,154,0.04) inset;
  outline: none;
  transition: box-shadow 0.2s;
}
.team-chat-input:focus {
  box-shadow: 0 0 0 2px #ff9562;
}
.team-chat-send-btn {
  background: linear-gradient(90deg, #ff9562 0%, #ff7f42 100%);
  color: #fff;
  border: none;
  border-radius: 50%;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 18px;
  cursor: pointer;
  transition: background 0.2s, transform 0.2s;
}
.team-chat-send-btn:disabled {
  background: #f3f0fa;
  color: #ccc;
  cursor: not-allowed;
}
.team-chat-send-btn:not(:disabled):hover {
  transform: scale(1.1);
  background: linear-gradient(90deg, #ff7f42 0%, #ff9562 100%);
}
        .welcome-title {
            background: none;
            color: #6a1b9a;
            font-size: 3.5rem;
            font-weight: 900;
            padding: 18px 0 8px 0;
            border-radius: 18px;
            text-align: center;
            margin-bottom: 0.5rem;
            box-shadow: none;
            letter-spacing: 1px;
        }
        .welcome-subtitle {
            color: white !important;
            font-size: 1.7rem !important;
            font-weight: 600 !important;
            text-align: center;
            margin-bottom: 2.2rem;
            text-shadow: none;
        }
        
        .welcome-subtitle .highlight {
            color: white !important;
        }

        /* Event Popup Modal */
        .event-modal-nice {
  display: none;
  position: fixed;
  z-index: 2000;
  left: 0; top: 0; width: 100vw; height: 100vh;
  background: transparent;
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
  align-items: center;
  justify-content: center;
}
.event-modal-nice-content {
  background: rgba(255,255,255,0.95);
  border-radius: 28px;
  box-shadow: 0 16px 48px rgba(106,27,154,0.18), 0 0 0 1px #ede9fe;
  max-width: 370px;
  width: 95vw;
  margin: 60px auto 0 auto;
  padding: 0 0 28px 0;
  overflow: hidden;
  position: relative;
  animation: modalSlideUp 0.4s cubic-bezier(0.19, 1, 0.22, 1);
}
@keyframes modalSlideUp {
  from { opacity: 0; transform: translateY(40px) scale(0.97); }
  to { opacity: 1; transform: translateY(0) scale(1); }
}
.event-modal-nice-close {
  position: absolute;
  top: 18px; right: 24px;
  background: rgba(106,27,154,0.08);
  border: none;
  color: #6a1b9a;
  font-size: 2rem;
  width: 38px;
  height: 38px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  opacity: 0.7;
  transition: all 0.2s;
  z-index: 2;
}
.event-modal-nice-close:hover {
  opacity: 1;
  background: #ede9fe;
  color: #ab47bc;
  transform: rotate(90deg);
}
.event-modal-nice-header {
  background: linear-gradient(135deg, #ab47bc 0%, #6a1b9a 100%);
  padding: 38px 32px 18px 32px;
  text-align: center;
  border-top-left-radius: 28px;
  border-top-right-radius: 28px;
  position: relative;
}
.event-modal-nice-icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 2.7rem;
  color: #fff;
  background: rgba(255,255,255,0.13);
  border-radius: 50%;
  width: 70px;
  height: 70px;
  margin-bottom: 10px;
  box-shadow: 0 4px 18px rgba(171,71,188,0.18);
  animation: pulse 3s infinite;
}
@keyframes pulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.08); }
}
.event-modal-nice-header h2 {
  color: #fff;
  font-size: 1.5rem;
  font-weight: 700;
  margin: 0 0 0.5rem 0;
  letter-spacing: 0.5px;
}
.event-modal-nice-tagline {
  color: #ede9fe;
  font-size: 1rem;
  font-weight: 400;
  margin: 0;
  opacity: 0.9;
}
.event-modal-nice-body {
  padding: 24px 32px 0 32px;
  display: flex;
  flex-direction: column;
  gap: 18px;
}
.event-modal-nice-body label {
  font-size: 1rem;
  color: #6a1b9a;
  font-weight: 600;
  margin-bottom: 4px;
}
.event-modal-nice-input-wrap {
  position: relative;
  margin-bottom: 10px;
}
.event-modal-nice-input-icon {
  position: absolute;
  left: 14px;
  top: 50%;
  transform: translateY(-50%);
  color: #ab47bc;
  opacity: 0.7;
  font-size: 1.1rem;
  pointer-events: none;
}
.event-modal-nice-input {
  width: 100%;
  padding: 12px 16px 12px 40px;
  border-radius: 12px;
  border: 1.5px solid #ede9fe;
  background: rgba(255,255,255,0.7);
  font-size: 1rem;
  color: #6a1b9a;
  outline: none;
  transition: border 0.2s, box-shadow 0.2s;
  box-shadow: 0 2px 8px rgba(106,27,154,0.04) inset;
}
.event-modal-nice-input:focus {
  border: 1.5px solid #ab47bc;
  box-shadow: 0 0 0 2px #ab47bc33;
  background: #fff;
}
.event-modal-nice-footer {
  display: flex;
  justify-content: flex-end;
  gap: 12px;
  padding: 24px 32px 0 32px;
}
.event-modal-nice-btn {
  padding: 12px 28px;
  border-radius: 18px;
  border: none;
  font-size: 1rem;
  font-weight: 700;
  cursor: pointer;
  transition: background 0.2s, color 0.2s, box-shadow 0.2s;
  box-shadow: 0 2px 8px rgba(106,27,154,0.08);
}
.event-modal-nice-btn.cancel {
  background: #f3f0fa;
  color: #6a1b9a;
}
.event-modal-nice-btn.cancel:hover {
  background: #ede9fe;
}
.event-modal-nice-btn.save {
  background: linear-gradient(90deg, #ab47bc 0%, #6a1b9a 100%);
  color: #fff;
  box-shadow: 0 4px 16px rgba(171,71,188,0.12);
}
.event-modal-nice-btn.save:hover {
  background: linear-gradient(90deg, #6a1b9a 0%, #ab47bc 100%);
  color: #fff;
}
.event-modal-nice-overlay {
  display: none;
  position: fixed;
  left: 0; top: 0; width: 100vw; height: 100vh;
  background: rgba(0,0,0,0.28); /* More black, more visible */
  z-index: 1999;
  backdrop-filter: blur(10px); /* More blur */
  -webkit-backdrop-filter: blur(10px);
}
    </style>
</head>
<body>
    <script>
        // Secondary authentication check (when DOM is loaded)
        document.addEventListener('DOMContentLoaded', function() {
            // Set up event listeners for the links and buttons
            setupEventListeners();
            // Load dashboard data
            loadDashboardData();
            // Create particles
            createParticles();
            // Check for incomplete morning notes
            checkMorningNotes();
            // Set up logo change functionality if the button exists
            if (document.getElementById('change-logo-btn')) {
                setupLogoChange();
            } else {
                console.warn('Logo button not found, skipping setup');
            }
            // Check for a custom logo in local storage
            const customLogo = localStorage.getItem('customLogo');
            const sidebarLogo = document.getElementById('sidebar-logo');
            if (customLogo && sidebarLogo) {
                sidebarLogo.src = customLogo;
            }
            
            // Set up Active Users functionality
            setupActiveUsersButtons();
            // Initialize users database if needed
            initializeUsersDatabase();
            // Update active users count
            updateActiveUsersCount();
            
            // Check if we should open the management auth modal from URL parameter
            const urlParams = new URLSearchParams(window.location.search);
            if (urlParams.get('openManagementAuth') === 'true') {
                // Remove the parameter from URL to prevent reopening on refresh
                const newUrl = window.location.pathname;
                window.history.replaceState({}, document.title, newUrl);
                
                // Open the management auth modal
                setTimeout(() => {
                    if (typeof openAuthModal === 'function') {
                        openAuthModal();
                    }
                }, 500); // Slight delay to ensure everything is loaded
            }
        });

        function setupEventListeners() {
            console.log('Event listeners setup.');
        }
    </script>

    <!-- Particles background -->
    <div class="particles" id="particles"></div>

    <!-- Include sidebar -->
    <div id="sidebar-container"></div>

    <!-- Main content area -->
    <div class="main-content">
        <div class="welcome-container">
            <h1 class="welcome-title">Welcome to MonuMe Performance</h1>
            <p class="welcome-subtitle">See The <span class="highlight">Result</span>, Shape The <span class="highlight">Future</span>.</p>
        </div>

        <!-- Dashboard statistics cards -->
        <div class="dashboard-stats">
            <div class="stat-card active-users-card">
                <div class="active-users-card-header">
                    <p class="team-monume-title">Team MonuMe</p>
                    <div class="icon"><i class="fas fa-users"></i></div>
                </div>
                <div class="active-users-info">
                    <h2 class="active-users-card-value" id="activeUsers">0</h2>
                    <p class="active-users-card-description">Active Users</p>
                </div>
                <div class="active-users-card-actions">
                    <button id="start-session-btn" class="action-button start-btn">Start</button>
                    <button id="view-active-users-btn" class="action-button active-btn">Activate</button>
                </div>
            </div>

            <div class="stat-card appointments-card">
                <div class="appointments-card-header">
                    <h3 class="team-monume-title">Appointments</h3>
                    <div class="icon">
                        <i class="fas fa-calendar-alt"></i>
                    </div>
                </div>
                <div class="appointments-card-value">42</div>
                <p class="appointments-card-description">Scheduled Appointments</p>
                <div class="active-users-card-actions">
                    <button class="action-button start-btn">Add</button>
                    <button class="action-button view-btn">View</button>
                </div>
            </div>

            <div class="stat-card active-users-card">
                <div class="active-users-card-header">
                    <p class="team-monume-title">Gift Cards</p>
                    <div class="icon"><i class="fas fa-gift"></i></div>
                </div>
                <div class="active-users-info">
                    <h2 class="active-users-card-value">0</h2>
                    <p class="active-users-card-description">Manage Gift Cards</p>
                </div>
                <div class="active-users-card-actions">
                    <button onclick="openAddGiftCardModal()" class="action-button start-btn">Add</button>
                    <button onclick="openViewGiftCardsModal()" class="action-button view-btn">View</button>
                </div>
            </div>

            <div class="stat-card">
                <div class="stat-card-header">
                    <p class="team-monume-title">Opening Checklist</p>
                </div>
                <div class="active-users-info">
                    <h2 class="stat-card-value">0</h2>
                    <p class="stat-card-description">Checklist Form</p>
                </div>
                <div class="stat-card-actions">
                    <button onclick="window.open('https://monumevip.com/forms/1745893032923/monume-queens', '_blank')" class="action-button start-btn" style="background: linear-gradient(135deg, #6a1b9a, #ab47bc); color: white; box-shadow: 0 4px 10px rgba(106, 27, 154, 0.3);">Start</button>
                </div>
            </div>

            <div class="stat-card">
                <div class="stat-card-header">
                    <p class="team-monume-title">Closing Checklist</p>
                </div>
                <div class="active-users-info">
                    <h2 class="stat-card-value">0</h2>
                    <p class="stat-card-description">Checklist Form</p>
                </div>
                <div class="stat-card-actions">
                    <button onclick="window.open('https://monumevip.com/forms/1745893032923/monume-queens', '_blank')" class="action-button start-btn" style="background: linear-gradient(135deg, #6a1b9a, #ab47bc); color: white; box-shadow: 0 4px 10px rgba(106, 27, 154, 0.3);">Start</button>
                </div>
            </div>
        </div>

        <!-- Simplified and enhanced Upcoming Events section with purple-themed design -->
        <div class="dashboard-bottom-row">
  <div class="dashboard-bottom-left">
    <div class="team-chat-card">
      <div class="team-chat-header-modern">
        <i class="fas fa-comments"></i>
        <span>Team Chat</span>
        <button class="users-btn-modern">
          <i class="fas fa-users"></i>
        </button>
      </div>
      <div class="team-chat-messages-area" id="chatMessages">
        <!-- Messages will be loaded here -->
      </div>
      <div class="team-chat-input-row">
        <input type="text" class="team-chat-input" id="messageInput" placeholder="Type your message...">
        <button class="team-chat-send-btn" id="sendButton" disabled>
          <i class="fas fa-paper-plane"></i>
        </button>
      </div>
    </div>
  </div>
  <div class="dashboard-bottom-right">
    <div class="events-header">
      <h3>Upcoming Events</h3>
      <div class="events-controls">
        <button class="event-btn" id="add-event-btn" title="Add Event"><i class="fas fa-plus"></i></button>
        <button class="event-btn" title="Calendar View"><i class="fas fa-calendar-alt"></i></button>
      </div>
    </div>
    <div class="events-list-scroll">
      <div class="event-row priority-high today">
        <div class="event-date-block">
          <span class="event-date-main">05</span>
          <span class="event-date-month">MAY</span>
        </div>
        <div class="event-info">
          <div class="event-title">Cinco de Mayo Celebration</div>
        </div>
      </div>
      <div class="event-row priority-medium">
        <div class="event-date-block">
          <span class="event-date-main">08</span>
          <span class="event-date-month">MAY</span>
        </div>
        <div class="event-info">
          <div class="event-title">Team Meeting</div>
        </div>
      </div>
      <div class="event-row priority-high">
        <div class="event-date-block">
          <span class="event-date-main">11</span>
          <span class="event-date-month">MAY</span>
        </div>
        <div class="event-info">
          <div class="event-title">Mother's Day</div>
        </div>
      </div>
      <div class="event-row priority-low">
        <div class="event-date-block">
          <span class="event-date-main">12</span>
          <span class="event-date-month">MAY</span>
        </div>
        <div class="event-info">
          <div class="event-title">Inventory Day</div>
        </div>
      </div>
      <div class="event-row">
        <div class="event-date-block">
          <span class="event-date-main">16</span>
          <span class="event-date-month">MAY</span>
        </div>
        <div class="event-info">
          <div class="event-title">Monthly Performance Review</div>
        </div>
      </div>
    </div>
    <div class="events-footer-row">
      <button class="view-all-btn">View All Events <i class="fas fa-arrow-right"></i></button>
    </div>
  </div>
</div>
    <!-- Logo Upload Modal -->
    <div id="logoModal" class="logo-modal">
        <h2>Change Logo</h2>
        <div id="logo-upload-area" class="logo-upload-area">
            <i class="fas fa-cloud-upload-alt"></i>
            <p>Click or drag image to upload</p>
            <input type="file" id="file-input" accept="image/*" />
        </div>
        <img id="logo-preview" class="logo-preview" alt="Logo preview" />
        <div class="logo-buttons">
            <button class="logo-btn cancel-btn" onclick="closeLogoModal()">Cancel</button>
            <button class="logo-btn save-btn" onclick="saveLogo()">Save Logo</button>
        </div>
    </div>

    <!-- User Selection Modal - EXACT COPY FROM ActiveUsers.html -->
    <div id="user-selection-modal" class="user-selection-modal">
        <div class="modal-content">
            <h3>Select User</h3>
            <p>Choose a user to start a new session</p>
            
            <div class="user-list" id="user-list">
                <!-- User items will be populated here -->
            </div>
            
            <div class="modal-buttons">
                <button class="modal-cancel" id="cancel-selection">Cancel</button>
            </div>
        </div>
    </div>
    
    <!-- Password Verification Modal - EXACT COPY FROM ActiveUsers.html -->
    <div id="password-modal" class="password-modal">
        <div class="password-content">
            <h3>Password Verification</h3>
            <p>Enter password for <span id="selected-username">User</span></p>
            
            <input type="password" id="user-password" placeholder="Enter password">
            
            <div class="password-buttons">
                <button class="password-cancel" id="cancel-password">Cancel</button>
                <button class="password-verify" id="verify-password">Start</button>
            </div>
        </div>
    </div>
    
    <!-- Active Users Modal - EXACT COPY FROM ActiveUsers.html -->
    <div id="active-users-modal" class="active-users-modal">
        <div class="active-users-content">
            <h3>Current Active Users</h3>
            
            <div class="active-user-list" id="active-user-list">
                <!-- Active user items will be populated here -->
            </div>
            
            <div class="modal-close">
                <button class="modal-close-btn" id="active-users-close-btn">Close</button>
            </div>
        </div>
    </div>
    
    <!-- Force Out Modal - updated to only confirm role and password for the user you clicked -->
    <div id="forceout-modal" class="forceout-modal">
        <div class="forceout-content">
            <button class="forceout-close" id="forceout-close">&times;</button>
            <h3>Force Out User</h3>
            <p>Are you sure you want to force out <span id="forceout-user-display" style="color:#f44336;font-weight:600;"></span>?</p>
            <div class="forceout-user-dropdown">
                <label for="forceout-admin-select">Select Manager/Admin to Authorize:</label>
                <select id="forceout-admin-select" class="forceout-user-select"></select>
            </div>
            <p>Enter password to confirm:</p>
            <input type="password" id="forceout-password" class="forceout-password-field" placeholder="Manager/Admin password">
            <p id="forceout-error" class="forceout-error">Invalid password. Please try again.</p>
            <div class="forceout-buttons">
                <button class="forceout-cancel" id="forceout-cancel-btn">Cancel</button>
                <button class="forceout-confirm" id="forceout-confirm-btn">Force Out</button>
            </div>
        </div>
    </div>

    <!-- Event Popup Modal -->
    <div id="eventPopup" class="event-modal-nice">
  <div class="event-modal-nice-content">
    <button class="event-modal-nice-close" id="closeEventPopup" title="Close">&times;</button>
    <div class="event-modal-nice-header">
      <span class="event-modal-nice-icon"><i class="fas fa-calendar-plus"></i></span>
      <h2>Add New Event</h2>
      <p class="event-modal-nice-tagline">Plan ahead and keep your team in sync</p>
    </div>
    <div class="event-modal-nice-body">
      <label for="eventTitle">Event Title</label>
      <div class="event-modal-nice-input-wrap">
        <i class="fas fa-heading event-modal-nice-input-icon"></i>
        <input type="text" id="eventTitle" class="event-modal-nice-input" placeholder="Enter event title">
      </div>
      <label for="eventDate">Event Date</label>
      <div class="event-modal-nice-input-wrap">
        <i class="fas fa-calendar event-modal-nice-input-icon"></i>
        <input type="date" id="eventDate" class="event-modal-nice-input">
      </div>
    </div>
    <div class="event-modal-nice-footer">
      <button class="event-modal-nice-btn cancel" id="cancelEvent">Cancel</button>
      <button class="event-modal-nice-btn save" id="saveEvent">Save Event</button>
    </div>
  </div>
</div>
<div id="eventOverlay" class="event-modal-nice-overlay" style="display:none;"></div>

    <script>
        // Load the sidebar
        fetch('sidebar.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('sidebar-container').innerHTML = data;
                
                // After loading sidebar, highlight active page
                setTimeout(() => {
                    const currentPage = window.location.pathname.split('/').pop();
                    // If it's the root, consider it as dashboard.html
                    const activePage = currentPage === '' || currentPage === 'index.html' ? 'dashboard.html' : currentPage;
                    
                    // Find the corresponding link and make it active
                    const menuItems = document.querySelectorAll('.sidebar-menu li');
                    menuItems.forEach(item => {
                        const link = item.querySelector('a');
                        // Check both href and data-page attributes to find the active link
                        if (link && (link.getAttribute('href') === activePage || link.getAttribute('data-page') === activePage)) {
                            item.classList.add('active');
                        } else {
                            item.classList.remove('active');
                        }
                    });

                    // Update morning_notes.html links to team_chat.html
                    const morningNotesLinks = document.querySelectorAll('a[href="morning_notes.html"]');
                    morningNotesLinks.forEach(link => {
                        link.setAttribute('href', 'team_chat.html');
                    });
                    
                    // Set up smart links event handlers - FIX FOR SIDEBAR NAVIGATION
                    document.querySelectorAll('.smart-link').forEach(link => {
                        link.addEventListener('click', function(e) {
                            e.preventDefault();
                            const page = this.getAttribute('data-page');
                            if (page) {
                                // Handle both domain root and /static/ directory paths
                                const currentPath = window.location.pathname;
                                if (currentPath.includes('/static/')) {
                                    // If we're in the static directory
                                    window.location.href = page;
                                } else {
                                    // If we're at the root or elsewhere
                                    window.location.href = "/static/" + page;
                                }
                            }
                        });
                    });
                }, 100);
            });

        document.addEventListener('DOMContentLoaded', function() {
            // Set up event listeners for the links and buttons
            setupEventListeners();
            // Load dashboard data
            loadDashboardData();
            // Create particles
            createParticles();
            // Check for incomplete morning notes
            checkMorningNotes();
            // Set up logo change functionality if the button exists
            if (document.getElementById('change-logo-btn')) {
                setupLogoChange();
            } else {
                console.warn('Logo button not found, skipping setup');
            }
            // Check for a custom logo in local storage
            const customLogo = localStorage.getItem('customLogo');
            const sidebarLogo = document.getElementById('sidebar-logo');
            if (customLogo && sidebarLogo) {
                sidebarLogo.src = customLogo;
            }
            
            // Set up Active Users functionality
            setupActiveUsersButtons();
            // Initialize users database if needed
            initializeUsersDatabase();
            // Update active users count
            updateActiveUsersCount();
            
            // Check if we should open the management auth modal from URL parameter
            const urlParams = new URLSearchParams(window.location.search);
            if (urlParams.get('openManagementAuth') === 'true') {
                // Remove the parameter from URL to prevent reopening on refresh
                const newUrl = window.location.pathname;
                window.history.replaceState({}, document.title, newUrl);
                
                // Open the management auth modal
                setTimeout(() => {
                    if (typeof openAuthModal === 'function') {
                        openAuthModal();
                    }
                }, 500); // Slight delay to ensure everything is loaded
            }
        });

        // Upcoming Events logic for dashboard
(function() {
  const addEventBtn = document.getElementById('add-event-btn');
  const eventPopup = document.getElementById('eventPopup');
  const eventOverlay = document.getElementById('eventOverlay');
  const saveEventBtn = document.getElementById('saveEvent');
  const cancelEventBtn = document.getElementById('cancelEvent');
  const closeEventBtn = document.getElementById('closeEventPopup');
  const eventsList = document.querySelector('.events-list-scroll');

  // --- Holiday API Integration ---
  // Uses Nager.Date public API for holidays (country: US, can be changed)
  async function fetchUpcomingHolidays() {
    const today = new Date();
    const year = today.getFullYear();
    const country = 'US'; // Change to your country code if needed
    try {
      const res = await fetch(`https://date.nager.at/api/v3/PublicHolidays/${year}/${country}`);
      if (!res.ok) return [];
      const holidays = await res.json();
      // Filter for holidays in the next 7 days
      const weekAhead = new Date(today);
      weekAhead.setDate(today.getDate() + 7);
      return holidays.filter(h => {
        const hDate = new Date(h.date);
        return hDate >= today && hDate <= weekAhead;
      }).map(h => ({
        title: h.localName,
        date: h.date,
        type: 'holiday',
        description: h.name
      }));
    } catch (e) {
      return [];
    }
  }

  // Show modal
  if (addEventBtn) {
    addEventBtn.addEventListener('click', function() {
      eventPopup.style.display = 'block';
      eventOverlay.style.display = 'block';
      document.body.style.overflow = 'hidden'; // Prevent scroll
      document.getElementById('eventTitle').value = '';
      document.getElementById('eventDate').value = '';
    });
  }
  // Hide modal
  function closeEventModal() {
    eventPopup.style.display = 'none';
    eventOverlay.style.display = 'none';
    document.body.style.overflow = '';
  }
  if (cancelEventBtn) {
    cancelEventBtn.addEventListener('click', closeEventModal);
  }
  if (closeEventBtn) {
    closeEventBtn.addEventListener('click', closeEventModal);
  }
  if (eventOverlay) {
    eventOverlay.addEventListener('click', closeEventModal);
  }
  // Save event
  if (saveEventBtn) {
    saveEventBtn.addEventListener('click', function() {
      const title = document.getElementById('eventTitle').value.trim();
      const date = document.getElementById('eventDate').value;
      if (!title || !date) {
        alert('Please enter both title and date.');
        return;
      }
      // Save to localStorage
      const events = JSON.parse(localStorage.getItem('monume_events') || '[]');
      events.push({ title, date });
      localStorage.setItem('monume_events', JSON.stringify(events));
      renderEvents();
      closeEventModal();
    });
  }
  // Add modal for editing events
  const editModal = document.createElement('div');
  editModal.id = 'editEventModal';
  editModal.style.display = 'none';
  editModal.innerHTML = `
    <div class="event-modal-nice-content" style="max-width:340px;">
      <button class="event-modal-nice-close" id="closeEditEventModal" title="Close">&times;</button>
      <div class="event-modal-nice-header">
        <span class="event-modal-nice-icon"><i class="fas fa-pen"></i></span>
        <h2>Edit Event</h2>
      </div>
      <div class="event-modal-nice-body">
        <label for="editEventTitle">Event Title</label>
        <div class="event-modal-nice-input-wrap">
          <i class="fas fa-heading event-modal-nice-input-icon"></i>
          <input type="text" id="editEventTitle" class="event-modal-nice-input" placeholder="Enter event title">
        </div>
        <label for="editEventDate">Event Date</label>
        <div class="event-modal-nice-input-wrap">
          <i class="fas fa-calendar event-modal-nice-input-icon"></i>
          <input type="date" id="editEventDate" class="event-modal-nice-input">
        </div>
      </div>
      <div class="event-modal-nice-footer">
        <button class="event-modal-nice-btn cancel" id="deleteEventBtn" style="background:#f44336;color:#fff;">Delete</button>
        <button class="event-modal-nice-btn save" id="saveEditEventBtn">Save</button>
      </div>
    </div>
  `;
  document.body.appendChild(editModal);
  const editOverlay = document.createElement('div');
  editOverlay.id = 'editEventOverlay';
  editOverlay.className = 'event-modal-nice-overlay';
  editOverlay.style.display = 'none';
  document.body.appendChild(editOverlay);

  let editingEventIndex = null;

  // Show edit modal
  function showEditModal(eventIdx, eventObj) {
    editingEventIndex = eventIdx;
    document.getElementById('editEventTitle').value = eventObj.title;
    document.getElementById('editEventDate').value = eventObj.date;
    editModal.style.display = 'block';
    editOverlay.style.display = 'block';
    document.body.style.overflow = 'hidden';
  }
  // Hide edit modal
  function closeEditModal() {
    editModal.style.display = 'none';
    editOverlay.style.display = 'none';
    document.body.style.overflow = '';
    editingEventIndex = null;
  }
  document.getElementById('closeEditEventModal').onclick = closeEditModal;
  editOverlay.onclick = closeEditModal;
  document.getElementById('deleteEventBtn').onclick = function() {
    if (editingEventIndex !== null) {
      const events = JSON.parse(localStorage.getItem('monume_events') || '[]');
      events.splice(editingEventIndex, 1);
      localStorage.setItem('monume_events', JSON.stringify(events));
      closeEditModal();
      renderEvents();
    }
  };
  document.getElementById('saveEditEventBtn').onclick = function() {
    if (editingEventIndex !== null) {
      const title = document.getElementById('editEventTitle').value.trim();
      const date = document.getElementById('editEventDate').value;
      if (!title || !date) {
        alert('Please enter both title and date.');
        return;
      }
      const events = JSON.parse(localStorage.getItem('monume_events') || '[]');
      events[editingEventIndex] = { title, date };
      localStorage.setItem('monume_events', JSON.stringify(events));
      closeEditModal();
      renderEvents();
    }
  };

  // Render events (now merges local and holiday events)
  async function renderEvents() {
    if (!eventsList) return;
    const localEvents = JSON.parse(localStorage.getItem('monume_events') || '[]');
    const holidays = await fetchUpcomingHolidays();
    let allEvents = [
      ...localEvents.map((ev, idx) => ({ ...ev, type: 'local', _idx: idx })),
      ...holidays.map(ev => ({ ...ev, type: 'holiday' }))
    ];
    // Remove duplicates (same date and title)
    allEvents = allEvents.filter((ev, idx, arr) =>
      arr.findIndex(e => e.date === ev.date && e.title === ev.title) === idx
    );
    // Only show next 7 days
    const today = new Date();
    const weekAhead = new Date(today);
    weekAhead.setDate(today.getDate() + 7);
    allEvents = allEvents.filter(ev => {
      const d = new Date(ev.date);
      return d >= today && d <= weekAhead;
    });
    // Sort by date ascending
    allEvents.sort((a, b) => a.date.localeCompare(b.date));
    eventsList.innerHTML = '';
    if (allEvents.length === 0) {
      eventsList.innerHTML = '<div class="no-events">No upcoming events.</div>';
      return;
    }
    allEvents.forEach(ev => {
      const dateObj = new Date(ev.date);
      const day = String(dateObj.getDate()).padStart(2, '0');
      const month = dateObj.toLocaleString('default', { month: 'short' }).toUpperCase();
      const today = new Date();
      const isToday = dateObj.toDateString() === today.toDateString();
      const eventRow = document.createElement('div');
      eventRow.className = 'event-row' + (isToday ? ' today' : '');
      eventRow.innerHTML = `
        <div class="event-date-block">
            <span class="event-date-main">${day}</span>
            <span class="event-date-month">${month}</span>
        </div>
        <div class="event-info">
            <div class="event-title">${ev.title}${ev.type === 'holiday' ? ' <span style=\'color:#ab47bc;font-weight:600;font-size:13px\'>(Holiday)</span>' : ''}</div>
            ${ev.type === 'holiday' && ev.description ? `<div style='color:#888;font-size:12px;'>${ev.description}</div>` : ''}
        </div>
    `;
      eventsList.appendChild(eventRow);
    });
  }
  // Initial render
  renderEvents();
})();
    </script>
    <script src="js/active-users-dashboard.js"></script>
    <script src="js/upcoming_events.js"></script>
</body>
</html>
